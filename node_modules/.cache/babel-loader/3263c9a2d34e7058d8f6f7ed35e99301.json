{"ast":null,"code":"var _jsxFileName = \"/Users/dim/Documents/labs_web_a11y/translate/src/components/translate.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nconst doTranslation = async (input, languageCode, cancelToken) => {\n  try {\n    const url = 'https://dictionary.yandex.net/api/v1/dicservice.json/lookup';\n    const key = 'key=dict.1.1.20250120T021027Z.0073b55e878d348a.e44d8d34ce9d8622c98a145c966025c581f5dfd8';\n    const lang = 'lang=ru-en';\n    const text = \"text=\".concat(input);\n    const {\n      data\n    } = await axios.get(\"\".concat(url, \"?\").concat(key, \"&\").concat(lang, \"&\").concat(text));\n    return data.def[0].tr[0].text;\n  } catch (err) {\n    return \"\";\n  }\n};\nexport default _ref => {\n  let {\n    language,\n    text\n  } = _ref;\n  const [translated, setTranslated] = useState(\"\");\n  useEffect(() => {\n    if (!text) {\n      return;\n    }\n    const cancelToken = axios.CancelToken.source();\n    doTranslation(text, language, cancelToken).then(setTranslated);\n    return () => {\n      try {\n        cancelToken.cancel();\n      } catch (err) {}\n    };\n  }, [text, language]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"Output\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, translated));\n};","map":{"version":3,"names":["React","useEffect","useState","axios","doTranslation","input","languageCode","cancelToken","url","key","lang","text","concat","data","get","def","tr","err","_ref","language","translated","setTranslated","CancelToken","source","then","cancel","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className"],"sources":["/Users/dim/Documents/labs_web_a11y/translate/src/components/translate.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst doTranslation = async (input, languageCode, cancelToken) => {\n  try {\n    const url = 'https://dictionary.yandex.net/api/v1/dicservice.json/lookup'\n    const key = 'key=dict.1.1.20250120T021027Z.0073b55e878d348a.e44d8d34ce9d8622c98a145c966025c581f5dfd8'\n    const lang = 'lang=ru-en'\n    const text = `text=${input}`\n\n    const { data } = await axios.get(\n      `${url}?${key}&${lang}&${text}`,\n    );\n\n    return data.def[0].tr[0].text;\n  } catch (err) {\n    return \"\";\n  }\n};\n\nexport default ({ language, text }) => {\n  const [translated, setTranslated] = useState(\"\");\n\n  useEffect(() => {\n    if (!text) {\n      return;\n    }\n\n    const cancelToken = axios.CancelToken.source();\n\n    doTranslation(text, language, cancelToken).then(setTranslated);\n\n    return () => {\n      try {\n        cancelToken.cancel();\n      } catch (err) {}\n    };\n  }, [text, language]);\n\n  return (\n    <div>\n      <label className=\"label\">Output</label>\n      <h1 className=\"title\">{translated}</h1>\n    </div>\n  );\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,GAAG,MAAAA,CAAOC,KAAK,EAAEC,YAAY,EAAEC,WAAW,KAAK;EAChE,IAAI;IACF,MAAMC,GAAG,GAAG,6DAA6D;IACzE,MAAMC,GAAG,GAAG,yFAAyF;IACrG,MAAMC,IAAI,GAAG,YAAY;IACzB,MAAMC,IAAI,WAAAC,MAAA,CAAWP,KAAK,CAAE;IAE5B,MAAM;MAAEQ;IAAK,CAAC,GAAG,MAAMV,KAAK,CAACW,GAAG,IAAAF,MAAA,CAC3BJ,GAAG,OAAAI,MAAA,CAAIH,GAAG,OAAAG,MAAA,CAAIF,IAAI,OAAAE,MAAA,CAAID,IAAI,CAC/B,CAAC;IAED,OAAOE,IAAI,CAACE,GAAG,CAAC,CAAC,CAAC,CAACC,EAAE,CAAC,CAAC,CAAC,CAACL,IAAI;EAC/B,CAAC,CAAC,OAAOM,GAAG,EAAE;IACZ,OAAO,EAAE;EACX;AACF,CAAC;AAED,eAAeC,IAAA,IAAwB;EAAA,IAAvB;IAAEC,QAAQ;IAAER;EAAK,CAAC,GAAAO,IAAA;EAChC,MAAM,CAACE,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEhDD,SAAS,CAAC,MAAM;IACd,IAAI,CAACU,IAAI,EAAE;MACT;IACF;IAEA,MAAMJ,WAAW,GAAGJ,KAAK,CAACmB,WAAW,CAACC,MAAM,CAAC,CAAC;IAE9CnB,aAAa,CAACO,IAAI,EAAEQ,QAAQ,EAAEZ,WAAW,CAAC,CAACiB,IAAI,CAACH,aAAa,CAAC;IAE9D,OAAO,MAAM;MACX,IAAI;QACFd,WAAW,CAACkB,MAAM,CAAC,CAAC;MACtB,CAAC,CAAC,OAAOR,GAAG,EAAE,CAAC;IACjB,CAAC;EACH,CAAC,EAAE,CAACN,IAAI,EAAEQ,QAAQ,CAAC,CAAC;EAEpB,oBACEnB,KAAA,CAAA0B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEhC,KAAA,CAAA0B,aAAA;IAAOO,SAAS,EAAC,OAAO;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAa,CAAC,eACvChC,KAAA,CAAA0B,aAAA;IAAIO,SAAS,EAAC,OAAO;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEZ,UAAe,CACnC,CAAC;AAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}